{
  "manifest_version": 3,
  "name": "NotebookLM Source Saver",
  "version": "1.0.0",
  "description": "Capture NotebookLM search sources and copy them in convenient formats.",
  "permissions": ["storage", "clipboardWrite", "tabs"],
  "host_permissions": ["https://notebooklm.google.com/*", "https://www.perplexity.ai/*"],
  "content_scripts": [
    {
      "matches": ["https://notebooklm.google.com/*"],
      "js": ["src/interceptor.js"],
      "run_at": "document_start",
      "world": "MAIN"
    },
    {
      "matches": ["https://notebooklm.google.com/*"],
      "js": ["src/parser.js", "src/content.js"],
      "run_at": "document_start"
    },
    {
      "matches": ["https://www.perplexity.ai/spaces/*"],
      "js": ["src/perplexity.js"],
      "run_at": "document_idle"
    }
  ],
  "action": {
    "default_title": "NotebookLM Source Saver",
    "default_popup": "src/popup.html"
  }
}
